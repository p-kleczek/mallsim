\chapter{Implementacja}
\label{cha:implementation}

Poni¿ej zawarto opis implementacji wybranych algorytmów i obiektów symulacji.
 
%---------------------------------------------------------------------------

\section{U¿yte technologie i narzêdzia}
\label{sec:mall-impl}

Symulacja zosta³a napisana w jêzyku \textbf{Java} (wersja 7), przy czym interfejs graficzny stworzono z u¿yciem standardowej biblioteki Javy - \textbf{Swing}. W celu udostêpnienia funkcjonalnoœci nagrywania przebiegu symulacji do pliku \emph{AVI} pos³u¿ono siê bibliotek¹ \href{http://www.randelshofer.ch/monte/}{\textbf{Monte Media Library}}, która rozpowszechniana jest na licencji \emph{Creative Commons Attribution 3.0}.

%---------------------------------------------------------------------------

\section{Reprezentacja centrum handlowego}
\label{sec:mall-impl}

Centra handlowe reprezentowane s¹ za pomoc¹ map bitowych w formacie \emph{BMP}, w których ka¿dy piksel odpowiada jednej komórce siatki w modelu. Umo¿liwia to tworzenie planów obiektów handlowych w ³atwy i szybki sposób, z u¿yciem ogólnodostêpnych narzêdzi jak \emph{MS Paint} albo \emph{GIMP}.

Ka¿de centrum handlowe opisywane jest przy u¿yciu dwóch plików - mapy rozk³adu pomieszczeñ i algorytmów ruchu fazy operacyjnej (Rys. \ref{fig:mall-layout}) oraz mapy rozk³adu stref specjalnych (Rys. \ref{fig:mall-features}).

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.3]{./img/MallLayout.pdf}
	\caption{Przyk³adowy rozk³ad pomieszczeñ i algorytmów ruchu ma³ego centrum handlowego.}
	\label{fig:mall-layout}
\end{figure}

%---------------------------------------------------------------------------

\subsection{Mapa rozk³adu pomieszczeñ}
\label{sub:rooms-map}

Mapa rozk³adu pomieszczeñ okreœla dostêpnoœæ komórek dla agentów - komórki niedostêpne to œciany, stoiska roz³o¿one w pasa¿ach i inne obiekty blokuj¹ce przejœcie. Dodatkowo zawiera ona informacje o typie algorytmu ruchu wykorzystanego w \hyperref[sec:operational]{fazie operacyjnej}, zwi¹zanego z poszczególnymi komórkami.

Do kodowania informacji u¿yto tylko jednego z trzech kana³ów \emph{RGB} - czerwonego (wartoœci pozosta³ych kana³ów s¹ pomijane). Znaczenie poszczególnych wartoœci kana³u czerwonego dla pixeli mapy:
\begin{itemize}
	\item $0x00$ - komórka niedostêpna (obiekt uniemo¿liwiaj¹cy przejœcie)
	\item $0x7F$ - komórka dostêpna, ruch z u¿yciem algorytmu \hyperref[sec:movement-impl]{Ped-4}.
	\item $0xFF$ - komórka dostêpna, ruch z u¿yciem algorytmu \hyperref[sec:social-force-impl]{Social Distances}.
\end{itemize}

Na rysunku \ref{fig:mall-features} przedstawiono przyk³adowy rozk³ad stref specjalnych ma³ego centrum handlowego.

\begin{figure}[h]
	\centering
	\includegraphics[scale=0.3]{./img/MallFeatures.pdf}
	\caption{Przyk³adowy rozk³ad stref specjalnych ma³ego centrum handlowego.}
	\label{fig:mall-features}
\end{figure}

%---------------------------------------------------------------------------

\subsection{Mapa rozk³adu stref specjalnych}
\label{sub:rooms-map}

Mapa rozk³adu stref specjalnych centrum handlowego zawiera informacje o jego cechach funkcjonalnych - rozmieszczeniu miejsc przeznaczonych do czekania, kolejek przy kasach sklepowych, okien wystawowych. Oprócz tego mapa zawiera informacje o "`sieci routingu"' u³atwiaj¹cej przemieszczanie siê w centrum handlowym. Wszystkie powy¿sze dane wykorzystywane s¹ przede wszystkim w \hyperref[sec:tactical]{fazie taktycznej}, gdzie s¹ s³u¿¹ jako \hyperref[sec:path-deviation]{dodatkowa heurystyka} \hyperref[sec:path-finding]{algorytmu wyszukiwania œcie¿ek A*}. \\

Znaczenie poszczególnych wartoœci kana³ów \emph{RGB} pixeli mapy ($*$ - wartoœæ dowolna):
\begin{itemize}
	\item $(0x7F, A, H)$ - \hyperref[sec:path-deviation]{uogólniony atraktor} o \emph{atrakcyjnoœci} $A$ i \emph{czasie wstrzymania} $H$.
	\item $(0xFF, *, *)$ - \hyperref[sec:entrance-exits]{wejœcie/wyjœcie}
\end{itemize}

%---------------------------------------------------------------------------

\subsection{Uwagi}
\label{sub:mall-impl-notes}

Choæ w niniejszej pracy ograniczono siê do przeprowadzania symulacji dla jednej kondygnacji centrum handlowego, to jednak zaprezentowane rozwi¹zanie jest skalowalne - symulacjê ruchu w galerii wielopoziomowej mo¿na potraktowaæ jako parê równoleg³ych symulacji (odpowiadaj¹cych poszczególnym piêtrom). Zjawiska obserwowane w pobli¿u schodów ruchomych - grupowania siê ludzi w oczekiwaniu na wejœcie na schody - wystêpuj¹ równie¿ w okolicy wyjœæ z galerii, st¹d traktuj¹c schody jak wejœcie-wyjœcie (pomiêdzy piêtrami) otrzymamy zbli¿one rezultaty.

%---------------------------------------------------------------------------

\section{Ruch agentów - faza taktyczna}
\label{sec:agents-move-tactical}

%---------------------------------------------------------------------------

\subsection{Wybór puntków docelowych}
\label{sub:destination-choice}

Punkty docelowe reprezentuj¹ cele podró¿y agentów. Algorytm wybiera zadan¹ iloœæ miejsc znajduj¹cych siê we wnêtrzu centrum handlowego, które nastêpnie sortuje w celu minimalizacji ³¹cznej d³ugoœci dróg ³¹cz¹cych ze sob¹ kolejne punkty. Opisany sposób wyboru miejsc docelowych pozwala symulowaæ wszystkie zachowania poruszaj¹cych siê ludzi na poziomie lokalnym (np. kolejkowanie siê) i wiêkszoœæ schematów zachowañ t³umu na poziomie globalnym (z wy³¹czeniem pewnych bardziej z³o¿onych zjawisk, jak ró¿ne stosunki iloœciowe agentów danego typu w ró¿nych czêœciach centrum handlowego).

Poniewa¿ w pracy postanowiono skupiæ siê na aspekcie operacyjnym zagadnienia poruszania siê pieszych po centrum handlowym, algorytm wyboru punktów docelowych zosta³ znacz¹co uproszczony. W praktyce punkty wybierane s¹ w sposób ca³kowicie losoy.

%---------------------------------------------------------------------------

\subsection{Znajdowanie œcie¿ek}
\label{sub:path-finding}

W celu wyznaczania œcie¿ek prowadz¹cych do punktów docelowych wykorzystano algorytm \textbf{A*}. A* jest algorytmem kompletnym, s³u¿¹cym do wyznaczania najkrótszej drogi ³¹cz¹cej dwa wierzcho³ki grafu. Oznacza to, ¿e znajdzie on optymaln¹ drogê i zakoñczy dzia³anie który, jeœli tylko takowa istnieje. A* wykorzystuje \hyperref[sec:path-deviation]{heurystykê}, która s³u¿y szacowaniu kosztu œcie¿ki prowadz¹cej z danego wierzcho³ka do celu, staraj¹c siê rozpatrywaæ tylko najbardziej obiecuj¹ce wierzcho³ki.

Algorytm przochowuje zbiory wierzcho³ków "`otwartych"' (rozpatrywanych) i "`zamkniêtych"' (tych, które ju¿ zosta³y sprawdzone). Dzia³anie algorytmu rozpoczyna siê od dodania aktualnej pozycji agenta do zbioru wierzcho³ków otwartych. Nastêpnie algorytm wykonuje iteracyjnie nastêpuj¹ce kroki:

\begin{itemize}
	\item Ze zbioru wierzcho³ków otwartych wybierz najbardziej obiecuj¹cy wierzcho³ek $x$, minimalizuj¹cy funkcjê $f(x)$:
	  \[ f(x) = g(x) + h(x) \]
	  gdzie $g(x)$ okreœla d³ugoœæ drogi prowadz¹cej z wierzcho³ka pocz¹tkowego do wierzcho³ka $x$, a $h(x)$ okreœla przewidywan¹ przez heurystykê d³ugoœæ drogi ³¹cz¹cej wierzcho³ek $x$ i cel podró¿y.
	\item W przypadku osi¹gniêcia punktu docelowego zakoñcz dzia³anie (sukces).
	\item W przeciwnym przypadku dodaj wierzcho³ek $x$ do zbioru wierzcho³ków zamkniêtych, a s¹siaduj¹ce z nim wierzcho³ki (wierzcho³ki osi¹galne w jednym kroku zaczynaj¹c w $x$), które nie nale¿¹ do zbioru wierzcho³ków zamkniêtych, dodaj do zbioru wierzcho³ków otwartych.
\end{itemize}

Zale¿nie od zastosowanej heurystyki algorytm A* jest w stanie dostarczaæ optymalne œcie¿ki ³¹cz¹ce dwa punkty lub suboptymalne œcie¿ki, które s¹ obliczane szybciej. Poniewa¿ w rzeczywistym œwiecie pieszy praktycznie nie jest w stanie wybraæ w pe³ni optymalnej drogi, w implementacji zastosowano z³o¿on¹, dopuszczaln¹ (ang. \emph{admissible}) heurystykê dostarczaj¹c¹ œcie¿ki suboptymalne. Heurystyka ta zosta³a opisana w nastêpnej sekcji.

%---------------------------------------------------------------------------

\subsection{Dewiacja œcie¿ek}
\label{sub:path-deviation}

Dewiacja œcie¿ek zachodzi podczas dzia³ania algorytmu wyszukiwania œcie¿ek opisanego w poprzedniej sekcji celem u³atwienia zachodzenia pewnych zachowañ, takich jak poruszanie siê w odpowiedni sposób po korytarzach centrum handlowego. Odpowiednia dewiacja œcie¿ek zosta³a osi¹gniêta przez modyfikacjê heurystyki zastosowanego algorytmu A* - ka¿dy fragment \hyperref[fig:mall-features]{mapy rozk³adu stref specjalnych} centrum handlowego posiada przypisan¹ mu wartoœci okreœlaj¹ce parametry \textbf{uogólnionego atraktora} - \emph{atrakcjê} $A$ oraz \emph{czas wstrzymania} $H$.

Dodatkowo heurystykê obarczono wag¹ $\epsilon = 5$, co pozwala szybko generowaæ œcie¿ki o po¿¹danym koszcie (tj. takim, który nie przekraczacza $\epsilon$ razy kosztu œcie¿ki optymalnej).

\emph{Atrakcja} odpowiada za przyci¹ganie agentów do pewnych stref centrum handlowego. Umo¿liwia ona realizacjê zdefiniowanych przy analizie problemu \hyperref[sec:attractors]{atraktorów}. Jej wartoœæ kodowana jest przez kana³ zielony ($G$) pixeli oznaczaj¹cych atraktory na mapie rozk³adu stref specjalnych centrum handlowego. Wartoœæ $G$ nale¿y podzieliæ przez $0x7F (127)$ w celu przeskalowania jej do przedzia³u $[0, 2)$.
%$$A = G \cdot \frac{1}{127} $$
Heurystyka algorytmu A* wykorzystuje tê wartoœæ, jako dodatkowy mno¿nik szacowanego kosztu œcie¿ki: wartoœæ 0 oznacza najsilniejsz¹ atrakcjê, wartoœæ 1 - brak atrakcji, natomiast wartoœæ 2 oznacza odpychanie (algorytm wyszukiwania œcie¿ek bêdzie preferowa³ inne drogi).

% TODO @up : 0/1/2? a nie -1/0/1

\emph{Czas wstrzymania} odpowiada za opóŸnianie agentów podczas wykonywania ruchu. Gdy agent znajdzie siê w komórce obarczonej czasem oczekiwania, jego dalszy ruch zostaje wstrzymany na zadan¹ iloœæ cykli symulacji. Wartoœæ czasu wstrzymania kodowana jest przez kana³ niebieski ($B$) pixeli oznaczaj¹cych atraktory na mapie rozk³adu stref specjalnych centrum handlowego.

%---------------------------------------------------------------------------

        \subsection{Reprezentacja agentów}
        \label{sec:actor-impl}

        Na chwilê obecn¹ agenci opisywani s¹ przez parametry wp³ywaj¹ce tylko i wy³¹cznie na ich ruch w fazie operacyjnej. Docelowo planowane jest rozszerzenie ich zachowania o preferencje dotycz¹ce odwiedzanych miejsc, czasu spêdzanego w galerii itp.

    \begin{figure}[H]
        \centering
        \includegraphics[scale=0.75]{./img/agent.png}
        \caption{Klasa agenta}
        \label{fig:agent}
    \end{figure}

\noindent
Znaczenie poszczególnych parametrów:
\begin{itemize}
\item \textbf{vMax} -- maksymalna iloœæ punktów ruchu do wykorzystania w danej iteracji fazy operacyjnej
\item \textbf{agility} -- sk³onnoœæ do dokonywania zamian z innymi podczas etapu poruszania agentów
\item \textbf{position} -- po³o¿enie agenta na planszy galerii
\item \textbf{direction} -- aktualny kierunek ruchu (dostêpne kierunki s¹ zgodne ze stronami œwiata)
\item \textbf{route} -- lista wspó³rzêdnych p³ytek-celów do odwiedzenia
\item \textbf{forceField} -- opis wartoœci potencja³u pól wokó³ agenta (przy za³o¿eniu, ¿e agent zwrócony jest w kierunku pó³nocnym)
\item \textbf{fieldsMoved} -- odleg³oœæ (mierzona w p³ytkach) przebyta od ostatniego celu do danej chwili
\item \textbf{initialDistanceToTarget} -- teoretyczna minimalna odleg³oœæ od poprzedniego do obecnego celu
\item \textbf{holdTime} -- pozosta³y czas oczekiwania (np. w kolejce)
\end{itemize}

Czêœæ spoœród powy¿szych parametrów agenta inicjalizowana jest na podstawie plików zawieraj¹cych opisy pewnych ogólnych charakterystyk ludzi, np. "typ dynamiczny" oznacza cz³owieka poruszaj¹cego siê szybko i sk³onnego do dokonywania zamian, "typ emeryta" oznacza stateczny krok i niechêæ do zamian.

        \subsection{Ruch agentów i Ped-4}
        \label{sec:movement-impl}

\noindent
Faza operacyjna sk³ada siê z czterech wykonywanych w pêtli etapów, co zilustrowano na poni¿szym schemacie:

    \begin{figure}[H]
        \centering
        \includegraphics[scale=0.3]{./img/OperationalLoop.pdf}
        \caption{Pêtla fazy operacyjnej}
        \label{fig:operloop}
    \end{figure}

\indent Sprawdzanie osi¹gniêcia celu s³u¿y wyznaczeniu kolejnego celu, o ile poprzedni zosta³ osi¹gniêty. Cel mo¿na osi¹gn¹æ na dwa sposoby: wchodz¹c bezpoœrednio na p³ytkê o zadanych wspó³rzêdnych b¹dŸ wchodz¹c na p³ytkê w s¹siedztwie celu (w tym przypadku prawdopodobieñstwo uznania celu za osi¹gniêty zale¿y od odleg³oœci p³ytki od niego). Po wyznaczeniu nowego celu aktualizowane s¹ parametry wykorzystywane przez algorytmy ruchu, jak pocz¹tkowa (teoretyczna) minimalna odleg³oœæ od celu. \newline
\indent Przygotowanie agentów polega na wywo³aniu dla ka¿dego z nich metody \emph{prepare()} algorytmu przypisanego do p³ytki, na której agent aktualnie siê znajduje. \newline
\indent Obliczanie dostêpnych w danym obiegu fazy iteracyjnej punktów ruchu to przepisanie aktualnej prêdkoœci maksymalnej ka¿dego z agentów. \newline
\indent W etapie poruszania agentów agenci rozpatrywani s¹ cyklicznie. W jednej iteracji (``kroku'') ka¿dy z agentów mo¿e wykonaæ tylko jedn¹ akcjê,  np. czkaæ b¹dŸ przemieœciæ siê o jedno (!) pole. Dziêki takiemu rozwi¹zaniu ¿aden z agentów nie jest faworyzowany przy dostêpie do pól.

\begin{algorithm}
\caption{Faza operacyjna}
\label{alg2}
\begin{algorithmic}
\Procedure{operation\_phase}{}
    \ForAll{agent w galerii}
    \Comment{sprawdŸ osi¹gniêcie celu}
        \If{agent osi¹gn¹³ cel OR agent uzna³, ¿e osi¹gn¹³ cel}
            \State pobierz kolejny cel z listy
            \State zapisz statystyki dotycz¹ce dalszej drogi
        \EndIf
    \EndFor
    \newline
    \ForAll{agent w galerii}
    \Comment{przygotuj agentów}
        \State \textbf{call} Algorithm.prepare with agent
    \EndFor
    \newline
    \ForAll{agent w galerii}
    \Comment{oblicz punkty ruchu}
        \State punkty\_ruchu\_agenta $\gets$ predkosc\_agenta
    \EndFor
    \newline
    \For{krok od 1 do $v_{max}$}
    \Comment{porusz agentów}
        \ForAll{agent w galerii}
            \If{agent jest wstrzymywany}
                \State zmniejsz pozosta³y czas wstrzymania
            \ElsIf{agent nie wykorzysta³ jeszcze w tym kroku punktów ruchu}
                \State \textbf{call} Algorithm.nextIterationStep with agent
                \State \textbf{call} Feature.performAction with agent
                \State wykorzystaj punkt ruchu
            \EndIf
        \EndFor
    \EndFor
\EndProcedure
\end{algorithmic}
\end{algorithm}

Metoda \emph{performAction()}, wywo³ywana dla elementów galerii, ustawia parametry agenta zwi¹zane z symulacj¹ takich zdarzeñ, jak np. oczekiwanie w kolejce. \newline

Wszystkie algorytmy ruchu implementuj¹ interfejs \emph{MovementAlgorithm}. Interfejs ten zawiera dwie metody wywo³ywane w fazie operacyjnej dla ka¿dego agenta:
\begin{itemize}
\item \emph{prepare()} - wywo³ywana jeden raz, na pocz¹tku; s³u¿y ustawieniu agenta na odpowiedniej pozycji pocz¹tkowej
\item \emph{nextIterationStep()} - wywo³ywana tyle razy, ile agent posiada punktów ruchu; obs³uguje ruch "do przodu"; przy ka¿dym jej wywo³aniu agent przesuwa siê co najwy¿ej o jedno pole (w s¹siedztwie Moore'a)
\end{itemize}

    \begin{figure}[H]
        \centering
        \includegraphics[scale=0.75]{./img/move_algos.png}
        \caption{Interfejs \emph{MovementAlgorithm} i jego realizacje}
        \label{fig:movealgo}
    \end{figure}

        \subsection{Social Force}
        \label{sec:social-force-impl}

Poni¿ej przedstawiono pseudokody metody odpowiedzialnej za ruch "do przodu" w algorytmie Social Force:

\begin{algorithm}
\caption{Ruch agenta w algorytmie Social Force}
\label{alg1}
\begin{algorithmic}
\Procedure{nextIterationStep}{}
    \If{brak mo¿liwoœci ruchu}
        \State obróæ agenta
        \Comment{umo¿liwia przeszukanie nowych obszarów}
    \Else
        \State cel $\gets$ wyznacz\_pole\_o\_najwiekszym\_potencjale()
        \State przesuñ agenta na docelow¹ p³ytkê
        \State odzwierciedl kierunek wykonanego ruchu poprzez zmianê zwrotu agenta
    \EndIf
\EndProcedure
\newline
\Function{wyznacz\_pole\_o\_najwiekszym\_potencjale}{}
    \State dostepne\_pola $\gets$ wyznacz\_dostepne\_pola()
    \ForAll{dostêpne pole}
        \State uwzglêdnij wartoœæ pola potencja³u innych ludzi i odleg³oœæ od celu
    \EndFor
    \If{agent jest zmêczony}
        \State zwiêksz dodatkowo potencja³ dostêpnego pola najbli¿ej celu
    \EndIf
    \State pozostaw pola o najwy¿szym potencjale \\
    \Return{pole le¿¹ce najbli¿ej celu}
\EndFunction
\newline
\Function{wyznacz\_dostepne\_pola}{}
    \State pola\_agenta $\gets$ pola w s¹siedztwie von Neumanna le¿¹ce w pó³kolu wyznaczonym przez kierunek ruchu agenta
    \State pola\_celu $\gets$ pola w s¹siedztwie von Neumanna le¿¹ce w pó³kolu wyznaczonym przez kierunek do celu \\
    \Return{pola\_agenta AND pola\_celu}
    \Comment{czêœæ wspólna zbiorów}
\EndFunction
\end{algorithmic}
\end{algorithm}

\indent Funkcja wyznaczaj¹ca dostêpne pola ogranicza mo¿liwoœ ruchu tak, aby agent albo dalej przemieszcza³ siê po dotychczasowej trajektorii, albo skrêci³ w stronê celu. \\
\indent Potencja³ pola obliczany jest na podstawie si³y oddzia³ywania innych ludzi (ujemna sk³adowa) oraz odleg³oœci pola od celu (dodatnia sk³adowa). W przypadku, gdy agent ju¿ doœæ d³ugo zmierza do celu (tzn. przebyta przez niego droga znacz¹co przekracza minimaln¹ drogê konieczn¹ do osi¹gniêcia celu), lecz nie mo¿e go osi¹gn¹æ, przestaje zwracaæ tak¹ uwagê na innych agentów -- efekt ten zosta³ osi¹gniêty przez dodatkowe zwiêkszenie potencja³u dostêpnej p³ytki le¿¹cej najbli¿ej celu. \\
\indent W przypadku, gdy brak jest dostêpnych p³ytek, agent obraca siê odrobinê w miejscu, by w nastêpnym kroku zyskaæ nowe mo¿liwoœci ruchu (ze wzglêdu na zmianê zbioru dostêpnych p³ytek).

\newpage
        \subsection{Wizualizacja i pozyskiwanie danych}
        \label{sec:vis-and-data}

        Wizualizacjê przebiegu symulacji wykonano w oparciu o bibliotekê \textbf{Java Swing} z racji na prostotê implementacji i zadowalaj¹ce efekty wizualne, jakie ona dostarcza. Na rysunku \ref{fig:mall-sim-win} zaprezentowano wygl¹d g³ównego okna programu podczas przyk³adowej symulacji.

        \begin{figure}[H]
            \centering
            \includegraphics[scale=0.5]{./img/MallSim.pdf}
            \caption{G³ówne okno programu.}
            \label{fig:mall-sim-win}
        \end{figure}

        Program udostêpnia wiele konfigurowalnych opcji odpowiadaj¹cych za dzia³anie symulacji i jej wizualizacji dostêpnych za poœrednictwem \emph{panelu opcji}:

        \begin{itemize}
            \item \textbf{Opcje t³a} - wybór danych wizualizowanych w tle symulacji; do wyboru jedna wartoœæ z: \emph{brak}, \emph{gradient Social Force}, \emph{rozk³ad odwiedzin danych komórek centrum handlowego}, \emph{rozk³ad algorytmów ruchu}, \emph{rozk³ad stref specjalnych centrum handlowego}.
            \item \textbf{Opcje celu} - opcje wizualizacji celu podró¿y agentów; do wyboru jedna wartoœæ z: \emph{brak}, \emph{wektor najbli¿szego celu wybranego agenta}, \emph{aktualna œcie¿ka wybranego agenta}, \emph{wektory najbli¿szego celu wszystkich agentów}.
            \item \textbf{Szybkoœæ symulacji} - pasek wyboru szybkoœci symulacji (iloœæ milisekund na krok symulacji); wartoœci z przedzia³u 50 do 1000 milisekund.
            \item \textbf{Opcje nagrywania} - opcje odpowiadaj¹ce za nagrywanie przepiegu symulacji; obecnie dostêpna jest tylko konfiguracja iloœci kroków na klatkê filmu (\emph{spf}).
        \end{itemize}

        \noindent
        ...oraz \emph{paska menu}:

        \begin{itemize}
            \item \textbf{Seed} - opcje odpowiadaj¹ce za \emph{ziarno} symulacji umo¿liwiaj¹ce kontrolowanie powtarzalnoœci wyników.
        \end{itemize}

        W celu u³atwienia pozyskiwania danych do póŸniejszej analizy program udostêpnia zak³adkê \emph{Properties} generuj¹c¹ dynamicznie podgl¹d parametrów wybranego agenta oraz mo¿liwoœæ nagrania przebiegu symulacji za pomoc¹ biblioteki \textbf{Monte Media Library} - przebieg symulacji zapisywany jest w g³ówym katalogu programu w formacie \emph{.avi}.
